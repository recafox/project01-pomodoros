(function(t){function e(e){for(var r,s,o=e[0],u=e[1],c=e[2],m=0,p=[];m<o.length;m++)s=o[m],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&p.push(i[s][0]),i[s]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);l&&l(e);while(p.length)p.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,o=1;o<n.length;o++){var u=n[o];0!==i[u]&&(r=!1)}r&&(a.splice(e--,1),t=s(s.s=n[0]))}return t}var r={},i={app:0},a=[];function s(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=r,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(n,r,function(e){return t[e]}.bind(null,r));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var l=u;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container",attrs:{id:"app"}},[n("router-view"),n("navbar")],1)},a=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"l-nav"},[n("router-link",{staticClass:"c-nav__btn",attrs:{to:"/home"}},[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"black",width:"18px",height:"18px"}},[n("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),n("path",{attrs:{d:"M8 5v14l11-7z"}})])]),n("router-link",{staticClass:"c-nav__btn",attrs:{to:"/list"}},[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"black",width:"18px",height:"18px"}},[n("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),n("path",{attrs:{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}})])]),n("router-link",{staticClass:"c-nav__btn",attrs:{to:"/statistic"}},[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"black",width:"18px",height:"18px"}},[n("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),n("path",{attrs:{d:"M3.5 18.49l6-6.01 4 4L22 6.92l-1.41-1.41-7.09 7.97-4-4L2 16.99z"}})])]),n("router-link",{staticClass:"c-nav__btn",attrs:{to:"/setting"}},[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"black",width:"18px",height:"18px"}},[n("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),n("path",{attrs:{d:"M7.58 4.08L6.15 2.65C3.75 4.48 2.17 7.3 2.03 10.5h2c.15-2.65 1.51-4.97 3.55-6.42zm12.39 6.42h2c-.15-3.2-1.73-6.02-4.12-7.85l-1.42 1.43c2.02 1.45 3.39 3.77 3.54 6.42zM18 11c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2v-5zm-6 11c.14 0 .27-.01.4-.04.65-.14 1.18-.58 1.44-1.18.1-.24.15-.5.15-.78h-4c.01 1.1.9 2 2.01 2z"}})])])],1)},o=[],u={name:"Navbar"},c=u,l=n("2877"),m=Object(l["a"])(c,s,o,!1,null,null,null),p=m.exports,g={name:"Main",components:{Navbar:p},created:function(){var t=this;t.getSettingFromStorage()||t.setSettingStorage({work:.5,rest:.1,alarm:!1,ringtone:""})}},f=g,h=(n("5c0b"),Object(l["a"])(f,i,a,!1,null,null,null)),v=h.exports,d=n("8c4f"),_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"p-home p-wrapper"},[n("timer",{ref:"timer",attrs:{time:t.remainTime,currentStatus:t.currentStatus},on:{updateTime:t.updateCurrentTime,countingOver:t.startNewRound,countingStart:t.countingStart}}),n("div",{staticClass:"l-list"},[t.isEmpty?n("div",{staticClass:"c-list--main list__item"},[n("span",{staticClass:"list__mark"},[t._v(">")]),n("span",[t._v("Start your day!")])]):n("div",{staticClass:"c-list--main list__item"},[n("span",{staticClass:"list__mark"},[t._v(">")]),t._v(t._s(t.currentItem.content)),n("span")])])],1)},w=[],S=(n("4160"),n("b64b"),n("159b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"l-timer"},[n("div",{staticClass:"c-timer__pannel"},[n("span",[t._v(t._s(t.minute))]),n("span",[t._v(":")]),n("span",[t._v(t._s(t.second))])]),n("div",{staticClass:"c-timer__controller"},[t.isCounting?n("button",{staticClass:"controller__btn pause",on:{click:t.pause}},[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"black",width:"18px",height:"18px"}},[n("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),n("path",{attrs:{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"}})])]):n("button",{staticClass:"controller__btn start",on:{click:t.start}},[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"black",width:"18px",height:"18px"}},[n("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),n("path",{attrs:{d:"M8 5v14l11-7z"}})])]),n("progress-bar",{attrs:{total:t.totalTime,current:t.remainingTime,currentStatus:t.currentStatus,isCounting:t.isCounting}})],1)])}),b=[],C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"controller__progress",class:{active:t.isCounting}},[n("span",{staticClass:"controller__status"},[t._v(t._s(t.currentStatus))]),n("div",{staticClass:"progress__bar",style:{width:t.length+"%"}})])},y=[],k={name:"ProgressBar",components:{},props:["total","current","currentStatus","isCounting"],data:function(){return{}},computed:{length:function(){var t=this;return 100*t.current/t.total}},watch:{},methods:{}},I=k,T=Object(l["a"])(I,C,y,!1,null,null,null),x=T.exports,O={name:"Timer",components:{ProgressBar:x},props:["time","currentStatus"],data:function(){return{timerID:void 0,countdownTime:0,isCounting:!1}},watch:{time:{handler:function(t){var e=this;e.countdownTime=t}}},methods:{padZeroString:function(t){return t<10?"0".concat(t):"".concat(t)},start:function(){var t=this;t.time<=0||(t.isCounting=!0,t.$emit("countingStart"),t.timerID=setInterval((function(){t.countdownTime-=1,t.countdownTime<=0&&t.onOver()}),1e3))},pause:function(){var t=this;t.isCounting=!1,window.clearInterval(t.timerID),t.updateRemainingTime()},updateRemainingTime:function(){var t=this;t.$emit("updateTime",t.countdownTime)},onOver:function(){var t=this;t.isCounting=!1,window.clearInterval(t.timerID),t.$emit("countingOver")}},computed:{minute:function(){var t=this,e=Math.floor(t.countdownTime/60);return t.padZeroString(e)},second:function(){var t=this,e=t.countdownTime-60*Math.floor(t.countdownTime/60);return t.padZeroString(e)},remainingTime:function(){var t=this;return t.totalTime-t.countdownTime},totalTime:function(){var t=this,e=t.getSettingFromStorage();return 60*("work"===t.currentStatus?e.work:e.rest)}},mounted:function(){var t=this;t.countdownTime=t.time}},D=O,L=Object(l["a"])(D,S,b,!1,null,null,null),M=L.exports,N={name:"Homepage",components:{timer:M},data:function(){return{currentItem:{},setting:{},remainTime:0,currentStatus:"work",alarmPlaying:!1,ringtone:new Audio}},computed:{isEmpty:function(){var t=this;return 0===Object.keys(t.currentItem).length&&t.currentItem.constructor===Object}},watch:{currentItem:{deep:!0,handler:function(t){var e=this;e.currentStatus=t.currentStatus,e.remainTime=t.remainingTime}}},methods:{updateCurrentTime:function(t){var e=this,n=JSON.parse(JSON.stringify(e.currentItem));n.currentStatus=e.currentStatus,n.remainingTime=t,e.setCurrentItemStorage(n);var r=e.getListFromStorage();r.forEach((function(t,i){e.isTheSame(t,n)&&(r[i]=n)})),e.setListStorage(r),e.currentItem=e.getCurrentItemFromStorage()},startNewRound:function(){var t=this,e=t.getSettingFromStorage();!0===e.alarm&&(t.ringtone.src=e.ringtone.path,t.playRingtone(),setTimeout((function(){t.stopRingtone()}),5e3));var n="work"===t.currentStatus?"rest":"work",r=JSON.parse(JSON.stringify(t.currentItem));r.currentStatus=n,r.remainingTime=60*t.setting[n],"work"===t.currentStatus?r.workedTime+=60*t.setting.work:r.restedTime+=60*t.setting.work,t.updateCurrentItem(r),t.currentItem=t.getCurrentItemFromStorage()},playRingtone:function(){var t=this;t.alarmPlaying=!0,t.ringtone.play()},stopRingtone:function(){var t=this;t.alarmPlaying=!1,t.ringtone.pause(),t.ringtone.currentTime=0},updateCurrentItem:function(t){var e=this,n=e.getListFromStorage();n.forEach((function(r,i){e.isTheSame(r,t)&&(n[i]=t)})),e.setCurrentItemStorage(t),e.setListStorage(n)},countingStart:function(){var t=this;t.alarmPlaying&&t.stopRingtone()}},mounted:function(){var t=this;t.getListFromStorage()&&t.getCurrentItemFromStorage()&&(t.currentItem=t.getCurrentItemFromStorage(),t.setting=t.getSettingFromStorage(),t.remainTime=t.currentItem.remainingTime,t.currentStatus=t.currentItem.currentStatus)},beforeRouteLeave:function(t,e,n){var r=this;r.currentItem.timestamp&&r.updateCurrentTime(r.$refs.timer.countdownTime),n()}},$=N,z=Object(l["a"])($,_,w,!1,null,null,null),E=z.exports,F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"p-list p-wrapper"},[n("do-list",{staticClass:"l-list",attrs:{list:t.list,currentItem:t.currentItem}}),n("done-list",{staticClass:"l-list",attrs:{list:t.list}})],1)},j=[],J=(n("a434"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h3",[t._v("To Do")]),n("div",{staticClass:"list__wrapper list--do"},[n("ul",t._l(t.doList,(function(e){return n("list-item",{key:e.timestamp,staticClass:"list__item--success",class:{"--active":e.current},attrs:{item:e,list:t.list},scopedSlots:t._u([{key:"button",fn:function(){return[n("button",{staticClass:"item__btn",on:{click:function(n){return t.markFinish(e)}}})]},proxy:!0},{key:"assign",fn:function(){return[n("button",{staticClass:"item__btn--play",on:{click:function(n){return t.markCurrent(e)}}},[n("svg",{staticClass:"icon--play",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"black",width:"18px",height:"18px"}},[n("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),n("path",{attrs:{d:"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}})]),n("svg",{staticClass:"icon--recording",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"black",width:"18px",height:"18px"}},[n("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),n("path",{attrs:{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}})])])]},proxy:!0},{key:"content",fn:function(){return[n("span",{staticClass:"item__text"},[t._v(t._s(e.content))])]},proxy:!0}],null,!0)})})),1),n("list-input",{staticClass:"list__input",attrs:{list:t.list}})],1)])}),P=[],R=(n("4de4"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"list__item"},[t._t("button"),t._t("assign"),t._t("content"),n("button",{staticClass:"list__del",on:{click:function(e){return t.deleteItem(t.item)}}},[t._v(" DEL ")])],2)}),H=[],B={name:"DoList",props:["item","list"],methods:{deleteItem:function(t){var e=this,n=JSON.parse(JSON.stringify(e.list)),r=e.getCurrentItemFromStorage();r&&t.timestamp===r.timestamp&&e.removeCurrentItemFromStorage(),n.forEach((function(r,i){e.isTheSame(r,t)&&n.splice(i,1)})),e.setListStorage(n),e.$bus.$emit("list:update")}}},W=B,A=Object(l["a"])(W,R,H,!1,null,null,null),Z=A.exports,V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.tempInput,expression:"tempInput"}],domProps:{value:t.tempInput},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addInput(e)},input:function(e){e.target.composing||(t.tempInput=e.target.value)}}}),n("button",{staticClass:"list__add",on:{click:t.addInput}},[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"black",width:"18px",height:"18px"}},[n("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),n("path",{attrs:{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}})])])])},U=[],Y={name:"Input",components:{},props:["list"],data:function(){return{tempInput:"",limit:15,tempItem:{timestamp:0,content:"",current:!1,remainingTime:0,currentStatus:"work",finish:{status:!1,timestamp:0},workedTime:0,restedTime:0}}},methods:{addInput:function(){var t=this;t.tempItem.content=t.tempInput,t.tempItem.timestamp=(new Date).getTime(),t.tempItem.remainingTime=t.countRemainingTime();var e=JSON.parse(JSON.stringify(t.list));e.push(t.tempItem),t.setListStorage(e),t.$bus.$emit("list:update"),t.tempInput=""},countRemainingTime:function(){var t=this,e=t.getSettingFromStorage();return 60*e.work},validate:function(){}},mounted:function(){}},q=Y,G=Object(l["a"])(q,V,U,!1,null,null,null),K=G.exports,Q={name:"DoList",components:{listItem:Z,listInput:K},props:["list","currentItem"],data:function(){return{newCurrentItem:{}}},watch:{},computed:{doList:function(){var t=this;return t.list?t.list.filter((function(t){return!1===t.finish.status})):[]}},methods:{markFinish:function(t){var e=this;t.timestamp===e.currentItem.timestamp&&e.removeCurrentItemFromStorage();var n=JSON.parse(JSON.stringify(e.list));t.finish.status=!0;var r=new Date;t.finish.timestamp=r.getTime(),t.current=!1,n.forEach((function(r,i){e.isTheSame(r,t)&&(n[i]=t)})),e.setListStorage(n),e.$bus.$emit("list:update")},markCurrent:function(t){var e=this,n=JSON.parse(JSON.stringify(t));n.current=!0,e.setCurrentItemStorage(n),e.$bus.$emit("currentItem:update")}},mounted:function(){}},X=Q,tt=Object(l["a"])(X,J,P,!1,null,"469cbcab",null),et=tt.exports,nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h3",[t._v("Done")]),n("ul",{staticClass:"list__wrapper"},t._l(t.doneList,(function(e){return n("list-item",{key:e.timestamp,staticClass:"list__item--info",attrs:{item:e,list:t.list},scopedSlots:t._u([{key:"button",fn:function(){return[n("button",{staticClass:"item__btn item__btn--checked",on:{click:function(n){return t.markUnfinish(e)}}},[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"black",width:"18px",height:"18px"}},[n("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),n("path",{attrs:{stroke:"#fff",d:"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"}})])])]},proxy:!0},{key:"content",fn:function(){return[n("span",{staticClass:"item__text"},[t._v(t._s(e.content))])]},proxy:!0}],null,!0)})})),1)])},rt=[],it={name:"DoneList",components:{listItem:Z},props:["list"],data:function(){return{}},computed:{doneList:function(){var t=this;return t.list?t.list.filter((function(t){return!0===t.finish.status})):[]}},methods:{markUnfinish:function(t){var e=this,n=JSON.parse(JSON.stringify(e.list));t.finish.status=!1,t.finish.timestamp=0,n.forEach((function(r,i){e.isTheSame(r,t)&&(n[i]=t)})),e.setListStorage(n),e.$bus.$emit("list:update")}},mounted:function(){}},at=it,st=Object(l["a"])(at,nt,rt,!1,null,null,null),ot=st.exports,ut={name:"Listpage",components:{doList:et,doneList:ot},data:function(){return{list:[],currentItem:{}}},computed:{},methods:{getList:function(){var t=this;return t.getListFromStorage()},getCurrentItem:function(){var t=this;return t.getCurrentItemFromStorage()}},mounted:function(){var t=this;t.getList()&&(t.list=t.getList()),t.currentItem=t.getCurrentItem(),t.$bus.$on("list:update",(function(){t.list=t.getListFromStorage()})),t.$bus.$on("currentItem:update",(function(){t.currentItem=t.getCurrentItem();var e=JSON.parse(JSON.stringify(t.list));e.forEach((function(n,r){n.current=!1,t.isTheSame(n,t.currentItem)&&e.splice(r,1)})),e.unshift(t.currentItem),t.setListStorage(e),t.list=t.getListFromStorage()}))}},ct=ut,lt=Object(l["a"])(ct,F,j,!1,null,null,null),mt=lt.exports,pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"p-setting p-wrapper"},[n("div",{staticClass:"l-left l-container"},[n("div",{staticClass:"l-area"},[n("h3",[t._v("Alarm")]),n("div",{staticClass:"l-wrapper l-alarm-setting"},[n("label",{staticClass:"c-setting__input",class:{checked:t.currentSetting.alarm},on:{click:function(e){return t.toggleAlarmStatus(!0)}}},[n("div",{staticClass:"c-setting__check"}),t._v(" On ")]),n("label",{staticClass:"c-setting__input",class:{checked:!t.currentSetting.alarm},on:{click:function(e){return t.toggleAlarmStatus(!1)}}},[n("div",{staticClass:"c-setting__check"}),t._v(" Off ")])])]),t._m(0)]),n("div",{staticClass:"l-right l-container"},[n("h3",[t._v("Ringtone")]),n("ul",{staticClass:"l-wrapper l-ringtone-list"},t._l(t.ringtoneMap,(function(e,r){return n("ringtone",{key:e.path,ref:"ringtones"+r,refInFor:!0,attrs:{ringtoneObj:e},nativeOn:{click:function(n){return t.select(e)}},scopedSlots:t._u([{key:"title",fn:function(){return[n("span",[t._v("Music "+t._s(r+1))])]},proxy:!0}],null,!0)})})),1)])])},gt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"l-area"},[n("h3",[t._v("Duration")]),n("div",{staticClass:"l-wrapper l-duration-setting"},[n("div",{staticClass:"c-duration__text s--work"},[n("h4",[t._v("Work")]),n("span",[t._v("25")])]),n("div",{staticClass:"c-duration__text s--rest"},[n("h4",[t._v("Rest")]),n("span",[t._v("5")])])])])}],ft=(n("b0c0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"list__item",class:{active:t.isCurrent}},[n("button",{staticClass:"item__btn"},[n("svg",{staticClass:"icon--play",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"black",width:"30px",height:"30px"}},[n("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),n("path",{attrs:{d:"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}})])]),t._t("title")],2)}),ht=[],vt={name:"Ringtone",components:{},props:["ringtoneObj"],data:function(){return{music:new Audio,isPlaying:!1,isCurrent:!1}},watch:{},methods:{togglePlayStatus:function(){var t=this;t.isPlaying?t.pause():t.play()},play:function(){var t=this;t.isPlaying=!0,t.music.play(),setTimeout((function(){t.isPlaying=!1,t.reset(),t.pause()}),5e3)},pause:function(){var t=this;t.isPlaying=!1,t.music.pause()},reset:function(){var t=this;t.isPlaying=!1,t.music.currentTime=0}},computed:{},mounted:function(){var t=this;t.music.src=t.ringtoneObj.path,t.music.name=t.ringtoneObj.name}},dt=vt,_t=Object(l["a"])(dt,ft,ht,!1,null,null,null),wt=_t.exports,St={name:"Settingpage",components:{ringtone:wt},data:function(){return{ringtoneMap:[{name:"crowd-applause",path:"/ringtone/crowd-applause.wav"},{name:"door-bell",path:"/ringtone/door-bell.mp3"},{name:"retro-game-alarm",path:"/ringtone/retro-game-alarm.wav"},{name:"tinkle",path:"/ringtone/tinkle.mp3"}],ringtones:[],currentSetting:{}}},computed:{},methods:{select:function(t){var e=this;e.ringtones.forEach((function(n){var r=n.ringtoneObj;r.path===t.path?n.isPlaying?(n.reset(),n.pause()):(n.isCurrent=!0,e.currentSetting.ringtone=r,n.play()):(n.isCurrent=!1,n.reset(),n.pause()),e.setSettingStorage(e.currentSetting)}))},getActiveTone:function(){console.log("get active tone");var t=this;t.ringtones.forEach((function(e){var n=e.ringtoneObj;n.name===t.currentSetting.ringtone.name&&(e.isCurrent=!0)}))},toggleAlarmStatus:function(t){var e=this;e.setSettingStorage({work:e.currentSetting.work,rest:e.currentSetting.rest,alarm:t,ringtone:e.currentSetting.ringtone}),e.currentSetting=e.getSettingFromStorage()},playRingtone:function(){},getRingtones:function(){var t=[],e=this.$refs;for(var n in e)t.push(e[n][0]);return t}},mounted:function(){var t=this;t.ringtones=t.getRingtones(),t.currentSetting=t.getSettingFromStorage(),t.getActiveTone()},beforeRouteLeave:function(t,e,n){var r=this;r.ringtones.forEach((function(t){t.isPlaying&&t.pause()})),n()}},bt=St,Ct=Object(l["a"])(bt,pt,gt,!1,null,null,null),yt=Ct.exports,kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"p-statistic p-wrapper"},[n("div",{staticClass:"l-left l-container"},[n("div",{staticClass:"l-area"},[n("h3",[t._v("Today")]),n("div",{staticClass:"l-wrapper l-counter"},[n("div",{staticClass:"c-count s--todo"},[n("h4",[t._v("To Do")]),n("number-counter",{attrs:{number:t.todayDoNumber}})],1),n("div",{staticClass:"c-count s--done"},[n("h4",[t._v("Done")]),n("number-counter",{attrs:{number:t.todayDoneNumber}})],1)])]),n("div",{staticClass:"l-area"},[n("h3",[t._v("Week")]),n("div",{staticClass:"l-wrapper l-counter"},[n("div",{staticClass:"c-count s--todo"},[n("h4",[t._v("To Do")]),n("number-counter",{attrs:{number:t.weeklyDoNumber}})],1),n("div",{staticClass:"c-count s--done"},[n("h4",[t._v("Done")]),n("number-counter",{attrs:{number:t.weeklyDoneNumber}})],1)])])]),n("div",{staticClass:"l-right l-container"},[n("h3",[t._v("Done")]),n("div",{staticClass:"l-wrapper"},t._l(t.weekDay,(function(t){return n("bar-chart",{key:t.time,attrs:{date:t.dateStr,total:t.total}})})),1)])])},It=[],Tt=(n("99af"),n("d3b7"),n("ac1f"),n("25f0"),n("1276"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[t._v(" "+t._s(t.base)+" ")])}),xt=[],Ot={name:"NumberCounter",components:{},props:["number"],data:function(){return{step:1,gapTime:50,base:0}},computed:{},watch:{number:{handler:function(t){var e=this;0!==t&&void 0!==t&&e.counting()}}},methods:{counting:function(){var t=this,e=30;function n(){t.base+=t.step,t.base>=t.number/5&&t.base<t.number/5*2&&(e*=1.1),t.base>=t.number/5*2&&(e*=1.13),t.base>=t.number||e<=5e4&&setTimeout(n,e)}n()}},mounted:function(){}},Dt=Ot,Lt=Object(l["a"])(Dt,Tt,xt,!1,null,null,null),Mt=Lt.exports,Nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"c-statistic__bar"},[n("span",{staticClass:"c-statistic__text"},[t._v(t._s(t.date))]),n("div",{staticClass:"c-bar",style:{width:t.length+"%"}},[n("span",{staticClass:"c-bar__num"},[t._v(t._s(t.total))])])])},$t=[],zt={name:"BarChart",components:{},props:["total","date"],data:function(){return{}},computed:{length:function(){var t=this;return 2.5*t.total}},watch:{},methods:{}},Et=zt,Ft=Object(l["a"])(Et,Nt,$t,!1,null,null,null),jt=Ft.exports,Jt={name:"Statisticpage",components:{NumberCounter:Mt,BarChart:jt},data:function(){return{data:{},today:[],weekly:[],weekDay:[]}},computed:{todayDoneNumber:function(){var t=this;return t.today.filter((function(t){return!0===t.finish.status})).length},todayDoNumber:function(){var t=this;return t.today.filter((function(t){return!1===t.finish.status})).length},weeklyDoNumber:function(){var t=this;return t.weekly.filter((function(t){return!1===t.finish.status})).length},weeklyDoneNumber:function(){var t=this;return t.weekly.filter((function(t){return!0===t.finish.status})).length}},watch:{data:{deept:!0,handler:function(t){var e=this;e.today=t.filter((function(t){return e.ifIsToday(t.timestamp)})),e.weekly=t.filter((function(t){return e.ifThisWeek(t.timestamp)}))}}},methods:{ifIsToday:function(t){var e=this,n=e.getTodayTimestamp(),r=n+864e5;return n<=t&&r>t},ifThisWeek:function(t){var e=this;return e.getWeekStart()<=t&&e.getWeekEnd()>t},getWeekStart:function(){var t=this,e=(new Date).toString(),n=e.split(" ")[0],r=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],i=0;r.forEach((function(t,e){t===n&&(i=e)}));var a=t.getTodayTimestamp()-864e5*i;return a},getWeekEnd:function(){var t=this,e=t.getWeekStart();return e+6048e5-1},getTodayTimestamp:function(t){var e=this,n=t?new Date(t):new Date,r=n.getDate(),i=n.getMonth()+1,a=n.getFullYear(),s="".concat(a,"-").concat(e.padZero(i),"-").concat(e.padZero(r));return Date.parse(s)},getThisWeek:function(){for(var t=this,e=t.getWeekStart(),n=[],r=0;r<7;r++)n.push(e+864e5*r);return n},formatDay:function(t){var e=this,n=new Date(t),r=n.getMonth()+1,i=n.getDate();return"".concat(e.padZero(parseInt(r)),"/").concat(e.padZero(parseInt(i)))},padZero:function(t){return parseInt(t)>=10?parseInt(t):"0".concat(t)},ifThatDay:function(t,e,n){return e<t&&n>t}},mounted:function(){var t=this;t.data=t.getListFromStorage()?t.getListFromStorage():[];var e={},n=t.getThisWeek();for(var r in n.forEach((function(t){var n=new Date(t),r=n.getFullYear(),i=n.getMonth()+1,a=n.getDate(),s="".concat(r,"-").concat(i,"-").concat(a,"T00:00:00");e[Date.parse(s)]={total:0}})),t.data.forEach((function(t){for(var n in e)parseInt(t.finish.timestamp)>parseInt(n)&&parseInt(t.finish.timestamp)<=parseInt(n)+864e5&&e[n].total++})),e)e[r].dateStr=t.formatDay(parseInt(r)),t.weekDay.push(e[r])}},Pt=Jt,Rt=Object(l["a"])(Pt,kt,It,!1,null,null,null),Ht=Rt.exports;r["a"].use(d["a"]);var Bt=[{path:"*",redirect:"/homepage"},{path:"/homepage",component:E},{path:"/list",component:mt},{path:"/statistic",component:Ht},{path:"/setting",component:yt}],Wt=new d["a"]({routes:Bt}),At=Wt;r["a"].config.productionTip=!1,r["a"].prototype.$bus=new r["a"];var Zt="pomodorosList",Vt="pomodorosCurrentItem",Ut="pomodorosSetting";r["a"].prototype.getListFromStorage=function(){return JSON.parse(localStorage.getItem(Zt))},r["a"].prototype.setListStorage=function(t){localStorage.setItem(Zt,JSON.stringify(t))},r["a"].prototype.getCurrentItemFromStorage=function(){return JSON.parse(localStorage.getItem(Vt))},r["a"].prototype.setCurrentItemStorage=function(t){localStorage.setItem(Vt,JSON.stringify(t))},r["a"].prototype.removeCurrentItemFromStorage=function(){localStorage.removeItem(Vt)},r["a"].prototype.isTheSame=function(t,e){return t.timestamp===e.timestamp},r["a"].prototype.getSettingFromStorage=function(){return JSON.parse(localStorage.getItem(Ut))},r["a"].prototype.setSettingStorage=function(t){localStorage.setItem(Ut,JSON.stringify(t))},new r["a"]({router:At,render:function(t){return t(v)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var r=n("9c0c"),i=n.n(r);i.a},"9c0c":function(t,e,n){}});
//# sourceMappingURL=app.908b7d97.js.map